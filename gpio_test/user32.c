/**
 * user32.c
 *
 * Author: Kenta Ishii
 * License: MIT
 * License URL: https://opensource.org/licenses/MIT
 *
 */

#include "system32.h"
#include "system32.c"

/* Output gpio2-gpio5 */
gpio_sequence gpio[] =
{
	0b10000000000000000000000000111100,
	0b10000000000000000000000000111100,
	0b10000000000000000000000000000100,
	0b10000000000000000000000000001000,
	0b10000000000000000000000000010000,
	0b10000000000000000000000000100000,
	0b10000000000000000000000000010000,
	0b10000000000000000000000000001000,
	0b10000000000000000000000000000100,
	0b10000000000000000000000000001100,
	0b10000000000000000000000000110000,
	0
};

void _user_start()
{
	while(true) {
		_gpioset( gpio, gpio32_gpiolen( gpio ) , 0, -1 );
		while( ! _gpio_detect( 27 ) ) {
		}
		_gpioclear( 1 );
		_sleep( 1000000 );
	}
}
